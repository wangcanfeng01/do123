<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Login</title>
    <meta charset="UTF-8" />
    <script type="text/javascript" src="../static/common/meta-icon.js"></script>
    <script src="../static/common/jquery/jquery.min.js"></script>
    <script src="../static/common/bootstrap/js/bootstrap.min.js"></script>
    <link href="../static/common/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../static/common/common.css" rel="stylesheet" />
    <link href="../static/common/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <style>
        body {
            background: url(../static/images/bg/loginbg.png) no-repeat center center fixed;
            background-size: cover;
        }
    </style>
</head>

<body>
    <script src="../static/common/header.js"></script>
    <script type="text/javascript">
        myHeader('../static/images/banner.gif')
    </script>
    <div class="container" style="margin-top: 76px">
        <div class="row" style="margin-top: 76px">
            <div id='box' class="col-md-4 col-md-offset-4">
                <div class="panel panel-primary">
                    <div class="panel-heading" style="background:url('../static/images/bg/loginbg2.png');background-size: cover ;height: 100px">
                        <h3 class="panel-title"><span class="glyphicon glyphicon-log-in"></span> 账户登录</h3>
                    </div>
                    <div class="panel-body">
                        <form method="post" action="/login">
                            <div class="form-group" style="margin-top: 30px;">
                                <div class="input-group col-md-10 col-md-offset-1" style="height: 45px">
                                    <div class="input-group-addon"><span class="glyphicon glyphicon-user"></span></div>
                                    <input id='username' style="height: 45px" type="text" class="form-control" name="username"
                                        placeholder="用户名" />
                                </div>
                            </div>
                            <div class="form-group " style="margin-top: 25px">
                                <div class="input-group col-md-10 col-md-offset-1" style="height: 45px">
                                    <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>
                                    <input id='password' style="height: 45px" type="password" class="form-control" name="password"
                                        placeholder="密码">
                                </div>
                            </div>
                            <div class="form-group" style="margin-top: 0px">
                                <div class="input-group col-md-10 col-md-offset-1">
                                    <div class="checkbox checkbox-danger">
                                        <label>
                                            <input type="checkbox" name="remember-me" value="true">记住我
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" style="margin-top: 10px">
                                <div class="input-group col-md-10 col-md-offset-1" style="height: 45px">
                                    <button style="height: 45px" type="button" class="btn btn-primary btn-block" @click="login()">登
                                        录
                                    </button>
                                </div>
                            </div>
                            <div class="form-group" style="margin-bottom: 30px">
                                <div class="input-group col-md-10 col-md-offset-1">
                                    <a href="/register" class="btn btn-link btn-block" role="button">注册新账号</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <link rel="stylesheet" href="../static/common/sweetalert2/dist/sweetalert2.min.css" />
    <script src="../static/common/sweetalert2/dist/sweetalert2.all.js"></script>
    <script src="../static/common/tale.js"></script>

    <script src="../static/common/vue/vue.min.js"></script>
    <script src="../static/common/vue/axios.min.js"></script>
    <script src="../static/common/vue/vue-axios.js"></script>
    <script type="text/javascript">
        var tale = new $.tale();
        var vue = new Vue({
            el: '#box',
            methods: {
                login: function () {
                    var username = document.getElementById('username').value;
                    var password = document.getElementById('password').value;
                    if (!username || !password) {
                        tale.alertError("用户名或密码不能为空");
                    }
                    var url = '/login?username=' + username + '&password=' + password;
                    post(
                        url,
                        {},
                        (data) => {
                            document.write(data);
                        });
                }
            }
        })
    </script>
</body>

</html>